[{"path":"https://mrc-ide.github.io/squire.page/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2021 lmicReportsExtra authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://mrc-ide.github.io/squire.page/articles/booster_pathway.html","id":"model-structure","dir":"Articles","previous_headings":"","what":"Model Structure","title":"Nimue rewrite: Booster Pathway","text":"Compartment definitions follows: \\(uV\\) Un-vaccinated population, \\(pV_i\\) Partially vaccinated/protected population (.e. first dose two dose regimen), \\(fV_i\\) Fully vaccinated/protected population (.e. doses two dose regimen). Partial full dose compartments feed waned compartments represent reduced vaccine efficacy time. Transition rates defined : \\(fD_t\\) Daily time-series first doses, \\(sD_t\\) Daily time-series second doses, \\(bD_t\\) Daily time-series booster doses, \\(w_p\\) Rate waning first dose protection, \\(w_i\\) Rate waning second/boosted dose protection.","code":""},{"path":"https://mrc-ide.github.io/squire.page/articles/booster_pathway.html","id":"usage","dir":"Articles","previous_headings":"","what":"Usage","title":"Nimue rewrite: Booster Pathway","text":"user expected provide time-series first, second, booster doses. model primarily usage global_lmic_reports, intended normal usage. objects necessary MCMC fitting can access : model can run squire nimue non-exported function squire.page:::run_booster.  delay development vaccination protection removed, time-series first/second doses provided model internally adjusted via Erlang distribution shape 2 rate 1/14 simulate effect. simulate primary single dose vaccine (.e. Janssen) set first second dose efficacies desired level set time-series second doses time-series first doses delayed day.","code":"#model object squire.page::nimue_booster_model() #likelihood function squire.page::calc_loglikelihood_booster() #pmcmc object squire.page::pmcmc_drjacoby(log_likelihood = squire.page::calc_loglikelihood_booster,                             nimue_booster_model = squire.page::nimue_booster_model,                             ... #specific arguments here) squire.page:::run_booster(   country = \"United Kingdom\",   first_doses = c(100, 1000, 500),   tt_first_doses = c(0, 10, 50),   second_doses = c(0, 1000),   tt_second_doses = c(0, 30),   booster_doses = c(0, 1000),   tt_booster_doses = c(0, 200) ) %>%    squire.page::nimue_format(var_select = c(\"vaccinated_first_dose\", \"vaccinated_first_waned\", \"vaccinated_second_dose\", \"vaccinated_second_waned\")) %>%    tibble() %>%    pivot_wider(names_from = compartment, values_from = y) %>%    transmute(     t = t,     `Waned (Full Dose)` = vaccinated_second_waned,     `Fully Protected` = vaccinated_second_dose - vaccinated_second_waned,     `Waned (Partial Dose)` = vaccinated_first_waned,     `Partially Protected` = vaccinated_first_dose - vaccinated_first_waned   ) %>%   pivot_longer(c(`Waned (Full Dose)`, `Waned (Partial Dose)`, `Fully Protected`, `Partially Protected`),                names_to = \"Vaccine Protection\", values_to = \"Population\") %>%    ggplot(aes(x = t, y = `Population`, colour = `Vaccine Protection`)) +    geom_line()"},{"path":"https://mrc-ide.github.io/squire.page/articles/booster_pathway.html","id":"limitations","dir":"Articles","previous_headings":"","what":"Limitations","title":"Nimue rewrite: Booster Pathway","text":"Note framework assumes booster dose restores vaccine protection level, simplification capture increase protection. Hence framework suited modelling booster dose different vaccine primary series. also means framework capture increase protection longevity booster dose interaction boosters variants.","code":""},{"path":"https://mrc-ide.github.io/squire.page/articles/booster_pathway.html","id":"parameterisation","dir":"Articles","previous_headings":"","what":"Parameterisation","title":"Nimue rewrite: Booster Pathway","text":"Default parameter values chosen representative vaccination programmes LMIC LIC countries wild-type variant represent single vaccine chosen range values represent roughly Adenovirus, Whole Virus, Subunit vaccines. Note work involving efficacies Delta Omicron calculated elsewhere. Vaccine Efficacies: Waning Rates: \\(w_p\\) = 0.01015148 (98.5 days) \\(w_1\\) = 0.009757324 (102.5 days) \\(w_2\\) = 0.019463164 (51.4 days) calculate values utilised approach taken previously waning vaccine efficacy via AB titres (Report 48). took assumed non-waned efficacies created median waning curve values. fit waning rates waned compartment values recreate curves. plots fits shown .","code":""},{"path":"https://mrc-ide.github.io/squire.page/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Gregory Barnsley. Author, maintainer.","code":""},{"path":"https://mrc-ide.github.io/squire.page/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Barnsley G (2022). squire.page: Functions used global-lmic-reports-orderly repos. R package version 0.0.0.9000, https://mrc-ide.github.io/squire.page/.","code":"@Manual{,   title = {squire.page: Functions used in global-lmic-reports-orderly and other repos},   author = {Gregory Barnsley},   year = {2022},   note = {R package version 0.0.0.9000},   url = {https://mrc-ide.github.io/squire.page/}, }"},{"path":"https://mrc-ide.github.io/squire.page/index.html","id":"squirepage","dir":"","previous_headings":"","what":"Functions used in global-lmic-reports-orderly and other repos","title":"Functions used in global-lmic-reports-orderly and other repos","text":"package stores miscallenous R functions used repo global-lmic-reports repos use nimue fits. thinking behind storing external package means can kept consistent across multiple repos orderly tasks. majority functions variations fitting functions squire. added base squire nimue packages specific usage. Named position typically held becoming squire.","code":""},{"path":"https://mrc-ide.github.io/squire.page/index.html","id":"contents","dir":"","previous_headings":"","what":"Contents","title":"Functions used in global-lmic-reports-orderly and other repos","text":"Likelihood MCMC functions excess mortality fitting. account fitting weekly data daily, also allow poisson instead negative binomial fitting. Likelihood functions LMIC-reports. allow fitting cases tail epidemic time varying hosptialisation modifiers (added squire point). Functions simulate draws model output given different numbers vaccines. Also similar function LMICs (simplify ). Functions setting future scenarios LMIC projections. make flexible version projections can used. Various functions plotting R deaths time, compatible version fits.","code":""},{"path":"https://mrc-ide.github.io/squire.page/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Functions used in global-lmic-reports-orderly and other repos","text":"can install lmicReportsExtra like : package depends nimue squire.","code":"#devtools::install_github(\"mrc-ide/squire\") #devtools::install_github(\"mrc-ide/nimue\") devtools::install_github(\"mrc-ide/lmicReportsExtra\")"},{"path":"https://mrc-ide.github.io/squire.page/index.html","id":"to-do","dir":"","previous_headings":"","what":"To Do:","title":"Functions used in global-lmic-reports-orderly and other repos","text":"Convert fits tasks use OOP Ensure functions documented Set testing functions Write examples?","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/afg_fit.html","id":null,"dir":"Reference","previous_headings":"","what":"Nimue fit to reported deaths for Afghanistan — afg_fit","title":"Nimue fit to reported deaths for Afghanistan — afg_fit","text":"Included use examples. Fitted data 2021-10-06.","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/afg_fit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Nimue fit to reported deaths for Afghanistan — afg_fit","text":"","code":"afg_fit"},{"path":"https://mrc-ide.github.io/squire.page/reference/afg_fit.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Nimue fit to reported deaths for Afghanistan — afg_fit","text":"Nimue Simulation Object: parameters list fixed parameters model odin model odin_parameters list fixed parameters format needed odin model replicate_parameters data-frame sample parameters estimated MCMC pmcmc_results full matrix parameter estimates generated pmcmc interventions various parameters used model, .e. generate Rt -time replicates","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/bhu_fit.html","id":null,"dir":"Reference","previous_headings":"","what":"Nimue fit to excess mortality for Bhutan — bhu_fit","title":"Nimue fit to excess mortality for Bhutan — bhu_fit","text":"Included use examples. Fitted data 2021-11-16.","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/bhu_fit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Nimue fit to excess mortality for Bhutan — bhu_fit","text":"","code":"bhu_fit"},{"path":"https://mrc-ide.github.io/squire.page/reference/bhu_fit.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Nimue fit to excess mortality for Bhutan — bhu_fit","text":"Nimue Simulation Object: parameters list fixed parameters model odin model odin_parameters list fixed parameters format needed odin model replicate_parameters data-frame sample parameters estimated MCMC pmcmc_results full matrix parameter estimates generated pmcmc interventions various parameters used model, .e. generate Rt -time replicates","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/generate_draws.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Draws from pmcmc run — generate_draws","title":"Generate Draws from pmcmc run — generate_draws","text":"Uses furrr, can called parallel.","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/generate_draws.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Draws from pmcmc run — generate_draws","text":"","code":"generate_draws(out, pars.list = NULL, draws = 10)"},{"path":"https://mrc-ide.github.io/squire.page/reference/generate_draws.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Draws from pmcmc run — generate_draws","text":"Output squire::pmcmc pars.list Output generate_parameters(), default = NULL calls generate_parameters. draws Number draws mcmc chain. Default = 10, NULL uses replicate_parameters parameters","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/generate_parameters.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate parameter draws from a pmcmc run\nCode take from squire:::sample_pmcmc() — generate_parameters","title":"Generate parameter draws from a pmcmc run\nCode take from squire:::sample_pmcmc() — generate_parameters","text":"Generate parameter draws pmcmc run Code take squire:::sample_pmcmc()","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/generate_parameters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate parameter draws from a pmcmc run\nCode take from squire:::sample_pmcmc() — generate_parameters","text":"","code":"generate_parameters(out, draws = 10)"},{"path":"https://mrc-ide.github.io/squire.page/reference/generate_parameters.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate parameter draws from a pmcmc run\nCode take from squire:::sample_pmcmc() — generate_parameters","text":"Output squire::pmcmc draws Number draws mcmc chain. Default = 10","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/get_WHO_region.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the WHO Regions for a given set of iso3 codes — get_WHO_region","title":"Get the WHO Regions for a given set of iso3 codes — get_WHO_region","text":"Note countries currently unclassified given classification country territory (.e. Hong Kong).","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/get_WHO_region.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the WHO Regions for a given set of iso3 codes — get_WHO_region","text":"","code":"get_WHO_region(iso3cs)"},{"path":"https://mrc-ide.github.io/squire.page/reference/get_WHO_region.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Get the WHO Regions for a given set of iso3 codes — get_WHO_region","text":"https://www..int/countries","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/get_WHO_region.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the WHO Regions for a given set of iso3 codes — get_WHO_region","text":"iso3cs Vector iso 3 codes.","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/get_WHO_region.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the WHO Regions for a given set of iso3 codes — get_WHO_region","text":"Vector regions.","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/get_covax_iso3c.html","id":null,"dir":"Reference","previous_headings":"","what":"Get iso3 codes of recipient countries in COVAX — get_covax_iso3c","title":"Get iso3 codes of recipient countries in COVAX — get_covax_iso3c","text":"https://www..int/initiatives/act-accelerator/covax","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/get_covax_iso3c.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get iso3 codes of recipient countries in COVAX — get_covax_iso3c","text":"","code":"get_covax_iso3c()"},{"path":"https://mrc-ide.github.io/squire.page/reference/get_covax_iso3c.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get iso3 codes of recipient countries in COVAX — get_covax_iso3c","text":"Vector iso3 codes.","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/get_fits.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the relevant fits from an global-lmic-reports-orderly — get_fits","title":"Get the relevant fits from an global-lmic-reports-orderly — get_fits","text":"Uses DBI search orderlys database relevant files. Also requires DBI search orderly database. Returns list model fits, warning might large, since run PC large amounts RAM, fine. Also iso3cs can used reduce list size.","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/get_fits.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the relevant fits from an global-lmic-reports-orderly — get_fits","text":"","code":"get_fits(repo, date, iso3cs = NULL, excess = FALSE)"},{"path":"https://mrc-ide.github.io/squire.page/reference/get_fits.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the relevant fits from an global-lmic-reports-orderly — get_fits","text":"repo file path global-lmic-reports-orderly repo. date Collect reports date, string. iso3cs countries collected? Default = NULL, collects available. excess Collect excess fits? Default = FALSE.","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/get_fits.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the relevant fits from an global-lmic-reports-orderly — get_fits","text":"named (iso3 codes) list fit objects.","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/get_fits.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get the relevant fits from an global-lmic-reports-orderly — get_fits","text":"","code":"#get fits from my orderly repo if (FALSE) { get_fits(    \"C:\\\\Users\\\\gbarnsle\\\\Documents\\\\Covid Vaccine Impact\\\\global-lmic-reports-orderly\",    \"2021-11-21\",    iso3cs = NULL,    excess = TRUE ) }"},{"path":"https://mrc-ide.github.io/squire.page/reference/get_gavi_iso3c.html","id":null,"dir":"Reference","previous_headings":"","what":"Get iso3 codes of recipient countries in GAVI — get_gavi_iso3c","title":"Get iso3 codes of recipient countries in GAVI — get_gavi_iso3c","text":"Get iso3 codes recipient countries GAVI","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/get_gavi_iso3c.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get iso3 codes of recipient countries in GAVI — get_gavi_iso3c","text":"","code":"get_gavi_iso3c()"},{"path":"https://mrc-ide.github.io/squire.page/reference/get_gavi_iso3c.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Get iso3 codes of recipient countries in GAVI — get_gavi_iso3c","text":"https://www.gavi.org/","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/get_gavi_iso3c.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get iso3 codes of recipient countries in GAVI — get_gavi_iso3c","text":"Vector iso3 codes.","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/get_global_fund_iso3c.html","id":null,"dir":"Reference","previous_headings":"","what":"Get iso3 codes of recipient countries in TheGlobalFund — get_global_fund_iso3c","title":"Get iso3 codes of recipient countries in TheGlobalFund — get_global_fund_iso3c","text":"Get iso3 codes recipient countries TheGlobalFund","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/get_global_fund_iso3c.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get iso3 codes of recipient countries in TheGlobalFund — get_global_fund_iso3c","text":"","code":"get_global_fund_iso3c()"},{"path":"https://mrc-ide.github.io/squire.page/reference/get_global_fund_iso3c.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Get iso3 codes of recipient countries in TheGlobalFund — get_global_fund_iso3c","text":"https://www.theglobalfund.org/en/","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/get_global_fund_iso3c.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get iso3 codes of recipient countries in TheGlobalFund — get_global_fund_iso3c","text":"Vector iso3 codes.","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/get_income_group.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the World Bank Income Categories for a given set of iso3 codes — get_income_group","title":"Get the World Bank Income Categories for a given set of iso3 codes — get_income_group","text":"Note countries currently unclassified given either previous classification (.e Venezuela) classification country territory (.e. Hong Kong).","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/get_income_group.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the World Bank Income Categories for a given set of iso3 codes — get_income_group","text":"","code":"get_income_group(iso3cs)"},{"path":"https://mrc-ide.github.io/squire.page/reference/get_income_group.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Get the World Bank Income Categories for a given set of iso3 codes — get_income_group","text":"https://datahelpdesk.worldbank.org/knowledgebase/articles/906519-world-bank-country--lending-groups","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/get_income_group.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the World Bank Income Categories for a given set of iso3 codes — get_income_group","text":"iso3cs Vector iso 3 codes.","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/get_income_group.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the World Bank Income Categories for a given set of iso3 codes — get_income_group","text":"Ordered factor classifications codes.","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/loadCounterfactualData.html","id":null,"dir":"Reference","previous_headings":"","what":"A function to load and summarise the deaths averted data — loadCounterfactualData","title":"A function to load and summarise the deaths averted data — loadCounterfactualData","text":"function load summarise deaths averted data","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/loadCounterfactualData.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A function to load and summarise the deaths averted data — loadCounterfactualData","text":"","code":"loadCounterfactualData(   counterfactuals,   group_by,   quantileSamples = 2000,   exclude_iso3cs = NULL )"},{"path":"https://mrc-ide.github.io/squire.page/reference/loadCounterfactualData.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"A function to load and summarise the deaths averted data — loadCounterfactualData","text":"counterfactuals counterfactuals load. vector strings. Since large files, recommended load one counterfactual time. group_by vector strings variables group summary , e.g. Iso3c code, age_group date. quantileSamples used dataset grouped country. number combinations randomly draw. Defaults 2000. NULL creates wider interval based ordering samples. exclude_iso3cs vector iso3cs exclude summaries, default = NULL.","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/nimue_booster_model.html","id":null,"dir":"Reference","previous_headings":"","what":"nimue model creation. — nimue_booster_model","title":"nimue model creation. — nimue_booster_model","text":"Create nimue model class fitting squire tools using booster dose framework.","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/nimue_booster_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"nimue model creation. — nimue_booster_model","text":"","code":"nimue_booster_model(use_dde = TRUE)"},{"path":"https://mrc-ide.github.io/squire.page/reference/nimue_booster_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"nimue model creation. — nimue_booster_model","text":"use_dde Logical using dde solve. Default = TRUE use structure ensure model fitting flexible future models added","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/nimue_booster_model.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"nimue model creation. — nimue_booster_model","text":"Wraps squire pmcmc fitting infrastructure.","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/nimue_format.html","id":null,"dir":"Reference","previous_headings":"","what":"Nimue format that returns just compartments/summaries requested — nimue_format","title":"Nimue format that returns just compartments/summaries requested — nimue_format","text":"squire object provided feed squire::format_output. However, please note variables can select squire.","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/nimue_format.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Nimue format that returns just compartments/summaries requested — nimue_format","text":"","code":"nimue_format(   out,   var_select = NULL,   reduce_age = TRUE,   combine_compartments = TRUE,   date_0 = NULL,   mean_over_80_age = 82.5,   case_to_infection_ratio = 0.195 )"},{"path":"https://mrc-ide.github.io/squire.page/reference/nimue_format.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Nimue format that returns just compartments/summaries requested — nimue_format","text":"nimue_simulation squire_simulation object var_select Vector compartment names, e.g. c(\"S\", \"R\"). addition number summary compartment can requested. include: \"deaths\" Daily Deaths \"infections\" Daily Infections \"hospital_occupancy\" Occupied Hospital Beds \"ICU_occupancy\" Occupied ICU Beds \"hospital_demand\" Required Hospital Beds \"ICU_demand\" Required ICU Beds \"hospital_incidence\" Incidence hospitilisation \"ICU_incidence\" Incidence ICU admissions \"hospitilisations\" Incidence hospital+ICU admissions \"vaccines\", \"unvaccinated\", \"vaccinated\", \"priorvaccinated\" Vaccine outputs \"long_covid\" Long COVID estimates reduce_age Collapse age-dimension, calculating total compartment. combine_compartments Collapse compartments type together (e.g. E1 E2 -> E) date_0 Date time 0, specified date column added mean_over_80_age Mean age 80 population calculating long covid incidence. Default = 82.5 case_to_infection_ratio Ratio infections cases long covid calculation. Default = 0.195 UK ONS analyses","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/nimue_format.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Nimue format that returns just compartments/summaries requested — nimue_format","text":"Formatted long data.frame","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/nimue_format.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Nimue format that returns just compartments/summaries requested — nimue_format","text":"","code":"#generate some outputs for the afghanistan fit and pass through to format #getting deaths and long covid estimates if (FALSE) { generate_draws(afg_fit) %>%   nimue_format(var_select = c(\"deaths\", \"long_covid\")) }"},{"path":"https://mrc-ide.github.io/squire.page/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://mrc-ide.github.io/squire.page/reference/prepare_input_json_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert a model output into a data frame for Comet/GAVI Analysis — prepare_input_json_df","title":"Convert a model output into a data frame for Comet/GAVI Analysis — prepare_input_json_df","text":"Given Nimue Squire simulation object MCMC fits, function produces data frame Rt time equivalent Beta values, Nimue object, vaccine related parameters. also extends data frame next 240 days use forecasting.","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/prepare_input_json_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert a model output into a data frame for Comet/GAVI Analysis — prepare_input_json_df","text":"","code":"prepare_input_json_df(out, ox_interventions = NULL)"},{"path":"https://mrc-ide.github.io/squire.page/reference/prepare_input_json_df.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert a model output into a data frame for Comet/GAVI Analysis — prepare_input_json_df","text":"Nimue squire model output, must MCMC results pmcmc_results slot. ox_interventions Data frame government interventions, used add graphical elements, NULL element added data frame.","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/prepare_input_json_df.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert a model output into a data frame for Comet/GAVI Analysis — prepare_input_json_df","text":"tibble containing necessary data run Comet analyses.","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/prepare_input_json_df.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Convert a model output into a data frame for Comet/GAVI Analysis — prepare_input_json_df","text":"Currently can take fits reported deaths excess mortality.","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/prepare_input_json_df.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert a model output into a data frame for Comet/GAVI Analysis — prepare_input_json_df","text":"","code":"#apply this process to the standard Afghanistan fit df <- prepare_input_json_df(    afg_fit,    ox_interventions = NULL    ) #> Warning: 'mod_gen(...)' is deprecated; please use 'mod_gen$new(...)' instead #can be written to a json as needed if (FALSE) {    writeLines(       jsonlite::toJSON(df, pretty = TRUE),       \"input_params.json\"       ) }"},{"path":"https://mrc-ide.github.io/squire.page/reference/scan_fit.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit a nimue model to the given data using a scan fitting method — scan_fit","title":"Fit a nimue model to the given data using a scan fitting method — scan_fit","text":"Taken OJs code. Iteratively adjusts Rt_rw parameters based maximising likelihood short period time data.","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/scan_fit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit a nimue model to the given data using a scan fitting method — scan_fit","text":"","code":"scan_fit(   res,   data = NULL,   width = 2,   n_span = 8,   width_end = NULL,   repeats = 5,   data_window = 4,   min_data_window = 3 )"},{"path":"https://mrc-ide.github.io/squire.page/reference/scan_fit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit a nimue model to the given data using a scan fitting method — scan_fit","text":"res nimue simulation object data data fit , standard fits must date death columns; lmic fits must date, deaths cases; excess mortality must deaths, week_start week_end. Default = NULL, uses data fit width algorithm check values +- width current value n_span many values width check width_end final width check, algorithm move finer resolution proceeds, default NULL means width repeats many times iterate process data_window many data points include onwards date Rt effect comes effect, default = NULL. min_data_window effects data window less value skip . Useful since scan issues effects 1 2 data points, default = 3.","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/scan_fit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit a nimue model to the given data using a scan fitting method — scan_fit","text":"Model object tuned data","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/scan_fit.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fit a nimue model to the given data using a scan fitting method — scan_fit","text":"works excess fits now. Uses furrr simulations later can run parallel future::plan(future::multisession(), .cleanup = TRUE)","code":""},{"path":"https://mrc-ide.github.io/squire.page/reference/squire.page-package.html","id":null,"dir":"Reference","previous_headings":"","what":"squire.page: Functions used in global-lmic-reports-orderly and other repos — squire.page-package","title":"squire.page: Functions used in global-lmic-reports-orderly and other repos — squire.page-package","text":"Contains miscalanious functions used repo global-lmic-reports-orderly packages utilise squire nimue fits. functions kept externally keep consistent across mutliple repositories multiple orderly tasks.","code":""},{"path":[]},{"path":"https://mrc-ide.github.io/squire.page/reference/squire.page-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"squire.page: Functions used in global-lmic-reports-orderly and other repos — squire.page-package","text":"Maintainer: Gregory Barnsley g.barnsley@imperial.ac.uk (ORCID)","code":""}]
